# Web Application (React + Vite) – AI-IMAGE Frontend

תיקיית ה-`net-app/` מכילה את קוד ה-frontend של מערכת AI-IMAGE, המפותח באמצעות **React** ו-**Vite**. זוהי אפליקציית ווב מלאה המספקת ממשק משתמש אינטואיטיבי ורספונסיבי, המאפשר אינטראקציה מלאה עם שרת ה-FastAPI.

---

## 📚 תוכן העניינים

- [📂 מבנה תיקיות](#📂 מבנה-תיקיות)
- [🛠️ טכנולוגיות](#🛠️ טכנולוגיות)
- [⚙️ התקנה והרצה](#⚙️ התקנה-והרצה)
- [🧭 עמודים וניווט](#🧭 עמודים-וניווט)
- [🧩 רכיבים (Components)](#🧩 רכיבים-components)
- [🔗 אינטראקציה עם השרת (API)](#🔗 אינטראקציה-עם-השרת-api)

---

## 📂 מבנה תיקיות
```
net-app/
├── src/
│   ├── api/                 # קבצים האחראים על התקשורת עם השרת
│   │   ├── api.js           # הגדרות בסיסיות ל-API
│   │   ├── ai.js
│   │   ├── auth.js
│   │   ├── users.js
│   │   ├── images.js
│   │   ├── comments.js
│   │   ├── cloudinary.js
│   │   └── albums.js
│   ├── components/          # רכיבי UI לשימוש חוזר
│   │   ├── NavbarGuest.jsx  # סרגל ניווט לאורחים
│   │   └── NavbarUser.jsx   # סרגל ניווט למשתמשים מחוברים
│   ├── pages/               # עמודי האפליקציה השונים
│   │   ├── ai/
│   │   │   ├── ChatAI.jsx   # עמוד שיחה עם AI
│   │   ├── albums/
│   │   │   ├── AlbumDetails.jsx   # פרטי אלבום
│   │   │   ├── CreateAlbum.jsx    # יצירת אלבום
│   │   │   ├── EditAlbum.jsx      # עריכת אלבום
│   │   │   ├── MyAlbums.jsx       # האלבומים של המשתמש
│   │   │   └── PublicAlbums.jsx   # אלבומים פומביים
│   │   ├── auth/
│   │   │   ├── Login.jsx          # עמוד כניסה
│   │   │   └── Register.jsx       # עמוד רישום
│   │   ├── commits/
│   │   │   ├── AddComment.jsx     # הוספת תגובה
│   │   │   ├── AdminComments.jsx  # ניהול תגובות (מנהל)
│   │   │   └── EditComment.jsx    # עריכת תגובה
│   │   ├── images/
│   │   │   ├── AddImage.jsx       # הוספת תמונה
│   │   │   ├── Home.jsx           # עמוד הבית (תמונות פומביות)
│   │   │   ├── ImageDetails.jsx   # פרטי תמונה
│   │   │   └── MyImages.jsx       # התמונות שלי
│   │   └── users/
│   │       ├── AdminUsers.jsx     # ניהול משתמשים (מנהל)
│   │       └── MyProfile.jsx      # עמוד הפרופיל שלי
│   ├── App.jsx              # הגדרת הניתוב הראשי של האפליקציה
│   └── main.jsx             # נקודת הכניסה של אפליקציית ה-React
├── index.html               # קובץ ה-HTML הראשי
└── README                   # קובץ README עבור תיקיית ה-net-app
```

---

## 🛠️ טכנולוגיות

* **React**: ספריית JavaScript לבניית ממשקי משתמש.
* **Vite**: כלי בנייה מהיר לפרויקטי frontend.
* **React Router**: לניהול ניתוב (routing) בין עמודים.
* **Axios**: לביצוע בקשות HTTP לשרת ה-API.
* **HTML5, CSS3, JavaScript (ES6+)**: אבני הבניין של ה-Web.

---

## ⚙️ התקנה והרצה

כדי להפעיל את אפליקציית ה-Web:

1.  **וודא שאתה נמצא בתיקיית `net-app/`:**
    ```bash
    cd net-app
    ```

2.  **התקן את כל התלויות הנדרשות:**
    ```bash
    npm install
    ```

3.  **הפעל את האפליקציה:**
    ```bash
    npm run dev
    ```
    האפליקציה תופעל במצב פיתוח ותהיה זמינה בדרך כלל בכתובת `http://localhost:5173/` (הפורט יכול להשתנות).

---

## 🧭 עמודים וניווט

האפליקציה מספקת חווית משתמש דינמית עם עמודים וסרגלי ניווט המשתנים בהתאם לסטטוס ההתחברות של המשתמש ותפקידו:

### למשתמשים לא מחוברים (אורחים)

* **עמוד כניסה**: שדות הזנת אי-מייל וסיסמה.
* **עמוד רישום**: שדות הזנת שם משתמש, אי-מייל וסיסמה.
* **עמוד הבית**: מציג את כל התמונות הפומביות, כולל כפתור חיפוש.
* **עמוד אלבומים פומביים**: מציג את כל האלבומים הפומביים, כולל כפתור חיפוש.
* **עמוד פרטי אלבום**: מציג תמונות פומביות של האלבום.

**סרגל ניווט אורח**: כולל קישורים לעמודים: רישום, התחברות, אלבומים, בית.

### למשתמשים מחוברים (לא מנהלים)

בנוסף לעמודים הפומביים, למשתמשים מחוברים יש גישה לעמודים הבאים:

* **עמוד הודעות**: מציג את כל ההודעות של המשתמש או רק הודעות שלא נקראו.
* **עמוד פרטי תמונה**: מציג פרטים על תמונה ספציפית, תגובות, ואפשרות להוספת תגובה, עריכה או מחיקת תגובה.
* **עמוד הוספת תגובה / עריכת תגובה**: להזנת ועדכון תגובות ודירוגים.
* **עמוד הפרופיל שלי**: הצגת פרטי משתמש, עריכת שם, מחיקת משתמש, וניהול פרטי Cloudinary.
* **עמוד התמונות שלי**: מציג את כל התמונות שהועלו על ידי המשתמש, עם אפשרויות מחיקה, שינוי סטטוס (פומבי/פרטי), שיוך לאלבום ושינוי שם.
* **עמוד הוספת תמונה**: מאפשר העלאת תמונות כקובץ, מקישור URL, או יצירת תמונה באמצעות AI.
* **עמוד האלבומים שלי**: מציג את האלבומים של המשתמש, עם אפשרויות עריכה, מחיקה ויצירת אלבום חדש.
* **עמוד יצירת אלבום / עריכת אלבום**: להגדרת שם וסטטוס פומבי/פרטי של אלבומים.
* **עמוד שיחה עם AI**: מאפשר למשתמשים לשאול שאלות את ה-AI ולראות היסטוריית שיחות.

**סרגל ניווט משתמש**: כולל קישורים לעמודים: בית, התמונות שלי, הוספת תמונה, הפרופיל שלי, כל האלבומים, האלבומים שלי, יצירת אלבום, וכפתור התנתקות.

### למנהלים

בנוסף לכל הרשאות המשתמשים, למנהלים יש גישה לעמודים הבאים:

* **ניהול משתמשים**: טבלה המציגה את כל המשתמשים עם אפשרות לחסימה/שחרור.
* **ניהול תגובות**: טבלה המציגה את כל התגובות עם אפשרות למחיקה.
* **ניהול תמונות חסומות**: מציג את כל התמונות הפומביות החסומות עם אפשרות לשחרורן.
* **כפתורי ניהול בעמודי הבית/אלבומים פומביים**: מנהלים יכולים לחסום תמונות ואלבומים ישירות מעמודים אלו.

---

## 🧩 רכיבים (Components)

תיקיית `components/` מכילה רכיבים גנריים שניתן לעשות בהם שימוש חוזר ברחבי האפליקציה, כגון סרגלי הניווט (`NavbarGuest`, `NavbarUser`) ועוד.

---

## 🔗 אינטראקציה עם השרת (API)

תיקיית ה-`api/` מכילה קבצים האחראים על התקשורת עם השרת. קבצים אלו מטפלים ב:

* **מסלולי גישה לשרת**: הגדרת ה-URLs הנכונים לנקודות הקצה של השרת.
* **הכנסת Headers**: טיפול באסימוני אימות (JWT Token) בכותרות הבקשות.
* **העברת Data**: שליחת נתונים (Payload) לבקשות POST/PUT.

**כפתור ההתנתקות במערכת מבצע מספר פעולות חיוניות:**

1.  ניקוי פרטי המשתמש מהזיכרון המקומי.
2.  שינוי סטטוס המשתמש בבסיס הנתונים ל"לא מחובר".
3.  מחיקת היסטוריית השיחות עם ה-AI עבור המשתמש.

---

### 🔑 פעולות מרכזיות:

* **Login/Register**: שמירת אסימון ב-`localStorage`.
* **התנתקות**: מחיקת אסימון, עדכון סטטוס המשתמש בבסיס הנתונים, ניקוי היסטוריית שיחה עם ה-AI.

---

### 🧮 סיכום הרשאות לפי סוג משתמש

| סוג משתמש  | עמודים זמינים                                                     | פעולות מותרות       |
| :--------- | :---------------------------------------------------------------- | :------------------ |
| אורח       | בית, אלבומים פומביים, רישום, כניסה                                | צפייה בלבד          |
| משתמש רשום | כל עמודי האורח + ניהול אישי (תמונות, אלבומים, פרופיל, תגובות, AI) | יצירה, עריכה, מחיקה |
| מנהל מערכת | כל העמודים + ניהול תגובות, משתמשים ותמונות חסומות                 | פעולות ניהול מלאות  |