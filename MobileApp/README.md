# 📱 AI-IMAGE – אפליקציית מובייל (Expo/React Native)

תיקיית ה-`MobileApp/` מכילה את קוד ה-frontend של מערכת AI-IMAGE המפותח באמצעות **Expo** ו-**React Native**. זוהי אפליקציה נייטיבית המספקת חווית משתמש עשירה ואינטואיטיבית למשתמשי אנדרואיד ואייפון, ומאפשרת ביצוע כל הפעולות הקיימות גם באפליקציית ה-Web, כולל העלאת תמונות, ניווט, תגובות, וניהול משתמשים והרשאות.

---

## 📚 תוכן העניינים

- [🛠️ טכנולוגיות](#-טכנולוגיות)
- [⚙️ התקנה והרצה](#-התקנה-והרצה)
- [📁 מבנה תיקיות](#-מבנה-תיקיות)
- [✨ תכונות עיקריות](#-תכונות-עיקריות)
- [🧭 מסכים וניווט](#-מסכים-וניווט)
- [📌 דרישות מוקדמות](#-דרישות-מוקדמות)
- [🧩 טיפים ופתרון בעיות](#-טיפים-ופתרון-בעיות)

---

## 🛠️ טכנולוגיות

* **React Native**: פריימוורק לבניית אפליקציות מובייל נייטיביות באמצעות JavaScript ו-React.
* **Expo**: סט כלים ופריימוורק המאפשרים פיתוח, בנייה ופריסה מהירים של אפליקציות React Native.
* **Expo Router**: מערכת ניתוב (routing) מבוססת קבצים עבור Expo.
* **Axios**: לביצוע בקשות HTTP לשרת ה-API.
* **NativeBase**: ספריית רכיבי UI המספקת מראה ותחושה נייטיבית עם תמיכה בעיצוב.
* **React Navigation**: ספריית ניווט חזקה וגמישה לאפליקציות React Native.

---

## ⚙️ התקנה והרצה

כדי להפעיל את אפליקציית המובייל:

1.  **וודא שאתה נמצא בתיקיית `MobileApp/`:**
    ```bash
    cd MobileApp
    ```

2.  **התקן את כל התלויות הנדרשות:**
    ```bash
    npm install
    ```

3.  **הפעל את האפליקציה:**
    ```bash
    npx expo start
    ```

פקודה זו תפתח את Expo Dev Tools בדפדפן. משם תוכל לבחור:
* לסרוק את קוד ה-QR עם אפליקציית **Expo Go** במכשיר הנייד שלך (אנדרואיד או אייפון).
* להפעיל את האפליקציה על אמולטור אנדרואיד (Android Emulator) או סימולטור iOS (iOS Simulator) המותקנים במחשב שלך.

---

## 📁 מבנה תיקיות
```
מבנה התיקיות של אפליקציית המובייל הוא כדלקמן:

MobileApp/
├── app/                     # קבצי עמודים ומסכים, כולל מבנה הניתוב
│   ├── (auth)/              # קבוצת עמודים לאימות (כניסה, הרשמה)
│   ├── (tabs)/              # קבוצת עמודים עם טאבים (למשתמשים מחוברים)
│   │   ├── _layout.tsx      # הגדרת הטאבים והניווט עבור משתמשים
│   │   ├── home.tsx         # עמוד הבית (תמונות פומביות)
│   │   ├── my-images.tsx    # התמונות שהועלו על ידי המשתמש
│   │   ├── add-image.tsx    # הוספת תמונה
│   │   ├── my-albums.tsx    # האלבומים של המשתמש
│   │   ├── create-album.tsx # יצירת אלבום
│   │   ├── ai-chat.tsx      # צ'אט עם AI
│   │   └── notifications.tsx # התראות
│   ├── (admin)/             # קבוצת עמודים למנהלים
│   │   ├── _layout.tsx      # הגדרת הניווט למנהלים
│   │   ├── admin-users.tsx  # ניהול משתמשים
│   │   └── admin-comments.tsx # ניהול תגובות
│   ├── image-details.tsx    # פרטי תמונה ספציפית
│   ├── album-details.tsx    # פרטי אלבום ספציפי
│   ├── user-profile.tsx     # עמוד פרופיל אישי
│   ├── add-comment.tsx      # הוספת תגובה
│   └── _layout.tsx          # הניתוב הראשי של האפליקציה (קובע אם המשתמש הוא אורח/מחובר)
├── api/                     # פונקציות לתקשורת עם השרת (כמו ב-net-app/api)
│   ├── auth.js
│   ├── users.js
│   ├── images.js
│   └── ...
├── components/              # רכיבי UI לשימוש חוזר (כפתורים, כרטיסים, רכיבי דירוג)
│   ├── ImageCard.tsx
│   ├── RatingStars.tsx
│   ├── CustomButton.tsx
│   └── ...
├── assets/                  # קבצי מדיה סטטיים (תמונות, אייקונים, פונטים)
│   ├── images/
│   └── icons/
├── App.js                   # (ייתכן שלא קיים ב-Expo Router, main entry point)
└── babel.config.js          # הגדרות Babel
```

---

## ✨ תכונות עיקריות

* **ניווט מותאם תפקיד**: סרגלי ניווט נפרדים לאורחים, למשתמשים מחוברים, ולמנהלים, המבטיחים חווית שימוש רלוונטית.
* **אימות משתמשים**: הרשמה וכניסה למערכת, עם ניהול סשנים מאובטח.
* **העלאת תמונות**: אפשרות להעלאת תמונות מהמכשיר (גלריה/מצלמה), באמצעות קישור URL, או יצירת תמונה חדשה בעזרת מודל AI.
* **צפייה וניהול תמונות**: גלריות תמונות פומביות ופרטיות, עם אפשרויות עריכה, מחיקה, ושיוך לאלבומים.
* **ניהול אלבומים**: יצירה, עריכה, צפייה ומחיקה של אלבומים פרטיים וציבוריים.
* **אינטראקציה עם תמונות**: צפייה בפרטי תמונה, הוספה ועריכת תגובות ודירוגים.
* **צ'אט עם AI**: שיחה עם מודלי AI (כמו Ollama/Gemini) לקבלת עזרה ומידע.
* **ניהול פרופיל אישי**: עדכון פרטי משתמש ומחיקת חשבון.
* **תמיכה מלאה למנהל**: עמודים ייעודיים לניהול משתמשים (חסימה/שחרור) וניהול תגובות (מחיקה).
* **התראות**: קבלת עדכונים והודעות בתוך האפליקציה.
* **אבטחה**: שימוש באסימוני JWT וחיבור מאובטח לשרת.

---

## 🧭 מסכים וניווט

**ניווט כללי (`_layout.tsx` הראשי)**
קובץ ה-`_layout.tsx` הראשי בתיקיית `app/` קובע את סרגל הניווט הראשי (Main Stack) של האפליקציה, ומחליט אם להציג ניווט של "אורח" (למשתמשים שאינם מחוברים) או "טאבים" (למשתמשים מחוברים) בהתבסס על מצב ההתחברות.

**ניווט לאורחים (`(auth)/`)**
* **עמוד כניסה (`Login`)**: מסך להתחברות קיימת.
* **עמוד רישום (`Register`)**: מסך ליצירת חשבון חדש.
* **עמוד הבית (`Home`)**: מציג את כל התמונות הפומביות.
* **עמוד אלבומים פומביים (`Public Albums`)**: מציג אלבומים שפורסמו לציבור.

**ניווט למשתמשים (`(tabs)/`)**
משתמשים מחוברים נהנים מגישה מלאה לפונקציונליות באמצעות מערכת טאבים וניווט עמוק:
* **Home**: עמוד הבית עם תמונות פומביות.
* **My Images**: התמונות שהועלו על ידי המשתמש.
* **Add Image**: הוספת תמונה (קובץ, URL, AI).
* **My Albums**: ניהול האלבומים הפרטיים של המשתמש.
* **AI Chat**: צ'אט עם מודל AI.
* **Notifications**: צפייה בהתראות.
* **Profile**: עמוד הפרופיל האישי.
* **Image Details**: מסך פרטי תמונה כולל תגובות ודירוגים.
* **Album Details**: מסך פרטי אלבום עם התמונות שבו.
* **Add/Edit Comment**: מסכים להוספה או עריכה של תגובה.

**ניווט למנהלים (`(admin)/`)**
למנהלים יש גישה למסכים ייעודיים לניהול המערכת:
* **Admin Users**: ניהול משתמשים (חסימה, שחרור, מחיקה).
* **Admin Comments**: ניהול תגובות (מחיקה).
* **Admin Blocked Images**: ניהול תמונות חסומות.

---

## 📌 דרישות מוקדמות

ודא שהדברים הבאים מותקנים במערכת שלך:

* **Node.js** (גרסה 18 ומעלה)
* **npm** (מגיע עם Node.js)
* **Expo CLI**: התקן גלובלית באמצעות `npm install -g expo-cli`.
* **Expo Go**: אפליקציית מובייל חינמית הזמינה בחנויות האפליקציות (Google Play / Apple App Store) למכשיר הנייד שלך.
* **אמולטור/סימולטור (אופציונלי)**: אם ברצונך להריץ את האפליקציה על אמולטור במחשב (Android Studio, Xcode).

---

## 🧩 טיפים ופתרון בעיות

* **ודא שהשרת פועל**: אפליקציית המובייל תלויה בחיבור לשרת ה-FastAPI. וודא שהשרת רץ בכתובת ה-IP הנכונה (לדוגמה: `http://10.0.0.18:8000`) ושפרטי ה-IP מעודכנים בקבצי ה-API של האפליקציה.
* **הגדרות הרשת**: וודא שהמכשיר הנייד שלך (או האמולטור) והמחשב שלך נמצאים באותה רשת Wi-Fi, או שהשרת חשוף לגישה חיצונית אם אתה מריץ אותו על שרת מרוחק.
* **ניקוי מטמון Expo**: אם נתקלת בבעיות, נסה לנקות את מטמון Expo באמצעות `npx expo start -c`.

---
